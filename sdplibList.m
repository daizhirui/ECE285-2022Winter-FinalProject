function ins = sdplibList(sdplibDir)
% SDPLIBLIST Load filepath and optimal objective value of all the feasible
% problems in SDPLIB benchmark dataset.
% Argument:
%   sdplibDir: folder of sdplib data

listfile = fullfile([sdplibDir filesep 'list.mat']);
if isfile(listfile)
    load(listfile, "ins");
    return;
end

problems = {...
    {'arch0', 5.66517e-1}; ...
    {'arch2', 6.71515e-1}; ...
    {'arch4', 9.726274e-1}; ...
    {'arch8', 7.05698}; ...
    {'control1', 1.778463e1}; ...
    {'control2', 8.3}; ...
    {'control3', 1.363327e1}; ...
    {'control4', 1.979423e1}; ...
    {'control5', 1.68836e1}; ...
    {'control6', 3.73044e1}; ...
    {'control7', 2.06251e1}; ...
    {'control8', 2.0286e1}; ...
    {'control9', 1.46754e1}; ...
    {'control10', 3.8533e1}; ...
    {'control11', 3.1959e1}; ...
    {'equalG11', 6.291553e2}; ...
    {'equalG51', 4.005601e3}; ...
    {'gpp100', -4.49435e1}; ...
    {'gpp124-1', -7.3431}; ...
    {'gpp124-2', -4.68623e1}; ...
    {'gpp124-3', -1.53014e2}; ...
    {'gpp124-4', -4.1899e2}; ...
    {'gpp250-1', -1.5445e1}; ...
    {'gpp250-2', -8.1869e1}; ...
    {'gpp250-3', -3.035e2}; ...
    {'gpp250-4', -7.473e2}; ...
    {'gpp500-1', -2.53e1}; ...
    {'gpp500-2', -1.5606e2}; ...
    {'gpp500-3', -5.1302e2}; ...
    {'gpp500-4', -1.56702e3}; ...
    {'hinf1', 2.0326}; ...
    {'hinf2', 1.0967e1}; ...
    {'hinf3', 5.69e1}; ...
    {'hinf4', 2.74764e2}; ...
    {'hinf5', 3.63e2}; ...
    {'hinf6', 4.49e2}; ...
    {'hinf7', 3.91e2}; ...
    {'hinf8', 1.16e2}; ...
    {'hinf9', 2.3625e2}; ...
    {'hinf10', 1.09e2}; ...
    {'hinf11', 6.59e1}; ...
    {'hinf12', 2e-1}; ...
    {'hinf13', 4.6e1}; ...
    {'hinf14', 1.3e1}; ...
    {'hinf15', 2.5e1}; ...
    % {'infd1', inf}; ...
    % {'infd2', inf}; ...
    % {'infp1', -inf}; ...
    % {'infp2', -inf}; ...
    {'maxG11', 6.291648e2}; ...
    {'maxG32', 1.56764e3}; ...
    {'maxG51', 4.003809e3}; ...
    {'maxG55', 9.999210e3}; ...
    {'maxG60', 1.522227e4}; ...
    {'mcp100', 2.261574e2}; ...
    {'mcp124-1', 1.419905e2}; ...
    {'mcp124-2', 2.698802e2}; ...
    {'mcp124-3', 4.577501e2}; ...
    {'mcp124-4', 8.644119e2}; ...
    {'mcp250-1', 3.172643e2}; ...
    {'mcp250-2', 5.319301e2}; ...
    {'mcp250-3', 9.811726e2}; ...
    {'mcp250-4', 1.681960e3}; ...
    {'mcp500-1', 5.981485e2}; ...
    {'mcp500-2', 1.070057e3}; ...
    {'mcp500-3', 1.847970e3}; ...
    {'mcp500-4', 3.566738e3}; ...
    {'qap5', -4.36e2}; ...
    {'qap6', -3.8144e2}; ...
    {'qap7', -4.25e2}; ...
    {'qap8', -7.57e2}; ...
    {'qap9', -1.41e3}; ...
    {'qap10', -1.09256e3}; ...
    {'qpG11', 2.448659e3}; ...
    {'qpG51', 1.181e4}; ...
    {'ss30', 2.02395e1}; ...
    {'theta1', 2.3e1}; ...
    {'theta2', 3.287917e1}; ...
    {'theta3', 4.216698e1}; ...
    {'theta4', 5.032122e1}; ...
    {'theta5', 5.723231e1}; ...
    {'theta6', 6.347709e1}; ...
    {'thetaG11', 4e2}; ...
    {'thetaG51', 3.49e2}; ...
    {'truss1', -8.999996}; ...
    {'truss2', -1.233804e2}; ...
    {'truss3', -9.109996}; ...
    {'truss4', -9.009996}; ...
    {'truss5', -1.326357e2}; ...
    {'truss6', -9.01001e2}; ...
    {'truss7', -9.00001e2}; ...
    {'truss8', -1.331146e2} ...
};

m = size(problems, 1);
for i = 1 : m
    name = problems{i}{1};
    filename = sprintf('%s.dat-s', name);
    field = replace(name, '-', '_');
    val = -problems{i}{2};
    path = fullfile([sdplibDir filesep filename]);
    [~, A, b] = sdplib(path);
    [tf, a, ybar] = checkAssumption3(A, b);
    ins.(field) = struct('name', name, 'val', val, 'path', path, ...
        'filename', filename, 'assumption3', tf, 'a', a, 'ybar', ybar);
end
save(listfile, "ins");

end
